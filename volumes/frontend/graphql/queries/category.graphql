#
# queries
#

# /categories

query GetCategoryPageData {
  categories(rootOnly: false) {
    ...CategoryField
  }
  categoryTree: categories(rootOnly: true) {
    ...CategoryField
    children {
      ...CategoryField
      children {
        ...CategoryField
        children {
          ...CategoryField
          children {
            ...CategoryField
          }
        }
      }
    }
  }
}

# /categories/[...slug]

query GetCategoryDetailPageData($name: String!) {
  category(name: $name) {
    ...CategoryField
    parent {
      ...CategoryField
    }
    children {
      ...CategoryField
    }
    products {
      ...ProductField
      relatedProducts(
        platformMask: "yahoo_auction.buyable,yahoo_fleamarket.published,mercari.published,janpara.all,iosys.all,pc_koubou.all,used_sofmap.all"
        page: 1
        per: 10
        sort: "price"
        order: "asc"
      ) {
        ...RelatedProductField
      }
    }
  }
}
