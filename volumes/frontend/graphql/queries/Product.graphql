#
# products
#

query getProductPageData($id: ID, $name: String) {
  products(id: $id, name: $name) {
    id
    name
    yahooAuctionCrawlSetting {
      id
      productId
      keyword
      categoryId
      minPrice
      maxPrice
      enabled
    }
    mercariCrawlSetting {
      id
      productId
      keyword
      categoryId
      minPrice
      maxPrice
      enabled
    }
  }
}

query getProductDetailPageData(
  $id: ID!
  $published: Boolean
  $page: Int
  $per: Int
  $sort: String
  $order: String
) {
  product(id: $id) {
    id
    name
    yahooAuctionCrawlSetting {
      id
      keyword
      categoryId
      minPrice
      maxPrice
      enabled
      yahooAuctionCrawlSettingExcludeKeywords {
        id
        yahooAuctionCrawlSettingId
        keyword
        createdAt
        updatedAt
      }
      yahooAuctionCrawlSettingRequiredKeywords {
        id
        yahooAuctionCrawlSettingId
        keyword
        createdAt
        updatedAt
      }
    }
    yahooAuctionDailyPurchaseSummaries {
      id
      productId
      averagePurchasePrice
      purchaseCount
      date
      createdAt
      updatedAt
    }
    mercariCrawlSetting {
      id
      productId
      keyword
      categoryId
      minPrice
      maxPrice
      enabled
      mercariCrawlSettingExcludeKeywords {
        id
        mercariCrawlSettingId
        keyword
        createdAt
        updatedAt
      }
      mercariCrawlSettingRequiredKeywords {
        id
        mercariCrawlSettingId
        keyword
        createdAt
        updatedAt
      }
    }
    mercariDailyPurchaseSummaries {
      id
      productId
      averagePurchasePrice
      purchaseCount
      date
      createdAt
      updatedAt
    }
    relatedProducts(published: $published, page: $page, per: $per, sort: $sort, order: $order) {
      relatedType
      productId
      externalId
      name
      thumbnailUrl
      price
      published
      boughtDate
      createdAt
      updatedAt
    }
  }
}

#
# recommends
#

query getRecommendsPageData($id: ID, $name: String) {
  products(id: $id, name: $name) {
    id
    name
    relatedProducts(published: true, page: 1, per: 10, sort: "updated_at", order: "desc") {
      relatedType
      productId
      externalId
      name
      thumbnailUrl
      price
      published
      boughtDate
      createdAt
      updatedAt
    }
  }
}
